{"ast":null,"code":"import _regeneratorRuntime from\"/home/yuvrajchandrawanshi/react/web-fundamentals/day3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/yuvrajchandrawanshi/react/web-fundamentals/day3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import Todo from'./Todo';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function ListTodo(props){var removeTodo=function removeTodo(toDelete){deleteTodo(toDelete);return props.todoList.filter(function(todo){return todo.title!==toDelete.title;});};return/*#__PURE__*/_jsxs(\"div\",{children:[props.todoList.map(function(todo){return/*#__PURE__*/_jsxs(\"li\",{children:[Object.keys(todo).map(function(key){if(key==='title')return/*#__PURE__*/_jsxs(\"ul\",{children:[\"Title: \",todo[key]]});else return/*#__PURE__*/_jsx(Todo,{todo:todo,field:key,todoList:props.todoList,updateList:props.updateList});}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(e){e.preventDefault();props.updateList(removeTodo(todo));//console.log(props.todoList)\n},children:\"Delete\"})]});}),/*#__PURE__*/_jsx(\"button\",{children:\"Save\"})]});}var deleteTodo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(todo){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:8080/todo/delete?user=\"+\"John.Doe@gmail.com+\"+todo.title,{method:'DELETE'});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);case 7:case\"end\":return _context.stop();}}},_callee);}));return function deleteTodo(_x){return _ref.apply(this,arguments);};}();export default ListTodo;","map":{"version":3,"names":["Todo","ListTodo","props","removeTodo","toDelete","deleteTodo","todoList","filter","todo","title","map","Object","keys","key","updateList","e","preventDefault","fetch","method","res","json","data","console","log"],"sources":["/home/yuvrajchandrawanshi/react/web-fundamentals/day3/src/components/ListTodo.js"],"sourcesContent":["import Todo from './Todo'\nfunction ListTodo(props){\n    const removeTodo = (toDelete) =>{\n        deleteTodo(toDelete)\n        return props.todoList.filter((todo) => {return todo.title !== toDelete.title})\n    }\n    return (\n        <div>\n        {\n            props.todoList.map((todo) => \n                <li>\n                    {\n                        Object.keys(todo).map(\n                            (key) => {\n                                if(key === 'title')return <ul>Title: {todo[key]}</ul>\n                                else return <Todo todo = {todo} field = {key} todoList = {props.todoList} updateList = {props.updateList}/>\n                            }\n                        )\n                    }\n                    <button onClick = \n                        {\n                            (e)=>\n                            {\n                                e.preventDefault();\n                                props.updateList(removeTodo(todo))\n                                //console.log(props.todoList)\n                            }\n                        }>Delete\n                    </button>\n                </li>\n            )\n        }\n        <button>Save</button>\n        </div>\n    )\n}\n\nconst deleteTodo = async (todo)=>{\n    const res = await fetch(\"http://localhost:8080/todo/delete?user=\"+\"John.Doe@gmail.com+\"+todo.title, {method: 'DELETE'});\n    const data = await res.json();\n    console.log(data);\n}\n\nexport default ListTodo"],"mappings":"sSAAA,MAAOA,KAAI,KAAM,QAAQ,yFACzB,QAASC,SAAQ,CAACC,KAAK,CAAC,CACpB,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,QAAQ,CAAI,CAC5BC,UAAU,CAACD,QAAQ,CAAC,CACpB,MAAOF,MAAK,CAACI,QAAQ,CAACC,MAAM,CAAC,SAACC,IAAI,CAAK,CAAC,MAAOA,KAAI,CAACC,KAAK,GAAKL,QAAQ,CAACK,KAAK,EAAC,CAAC,CAClF,CAAC,CACD,mBACI,uBAEIP,KAAK,CAACI,QAAQ,CAACI,GAAG,CAAC,SAACF,IAAI,qBACpB,sBAEQG,MAAM,CAACC,IAAI,CAACJ,IAAI,CAAC,CAACE,GAAG,CACjB,SAACG,GAAG,CAAK,CACL,GAAGA,GAAG,GAAK,OAAO,CAAC,mBAAO,gCAAYL,IAAI,CAACK,GAAG,CAAC,GAAM,KAChD,oBAAO,KAAC,IAAI,EAAC,IAAI,CAAIL,IAAK,CAAC,KAAK,CAAIK,GAAI,CAAC,QAAQ,CAAIX,KAAK,CAACI,QAAS,CAAC,UAAU,CAAIJ,KAAK,CAACY,UAAW,EAAE,CAC/G,CAAC,CACJ,cAEL,eAAQ,OAAO,CAEP,iBAACC,CAAC,CACF,CACIA,CAAC,CAACC,cAAc,EAAE,CAClBd,KAAK,CAACY,UAAU,CAACX,UAAU,CAACK,IAAI,CAAC,CAAC,CAClC;AACJ,CACH,oBACI,GACR,GACR,cAEL,gCAAqB,GACf,CAEd,CAEA,GAAMH,WAAU,4FAAG,iBAAOG,IAAI,uJACRS,MAAK,CAAC,yCAAyC,CAAC,qBAAqB,CAACT,IAAI,CAACC,KAAK,CAAE,CAACS,MAAM,CAAE,QAAQ,CAAC,CAAC,QAAjHC,GAAG,qCACUA,IAAG,CAACC,IAAI,EAAE,QAAvBC,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CAAC,sDACrB,kBAJKhB,WAAU,4CAIf,CAED,cAAeJ,SAAQ"},"metadata":{},"sourceType":"module"}