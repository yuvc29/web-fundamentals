{"ast":null,"code":"import _regeneratorRuntime from\"/home/yuvrajchandrawanshi/react/web-fundamentals/day3/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/yuvrajchandrawanshi/react/web-fundamentals/day3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/yuvrajchandrawanshi/react/web-fundamentals/day3/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/yuvrajchandrawanshi/react/web-fundamentals/day3/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import'./App.css';import Form from'./components/Form';import ListTodo from'./components/ListTodo';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todoList=_useState2[0],setTodoList=_useState2[1];useEffect(function(){getList(props,setTodoList);},[]);var add=function add(todo){setTodoList([].concat(_toConsumableArray(todoList),[todo]));};var updateList=function updateList(newList){// console.log(newList)\nsetTodoList(newList);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Form,{add:add,todoList:todoList}),todoList?/*#__PURE__*/_jsx(ListTodo,{todoList:todoList,updateList:updateList}):/*#__PURE__*/_jsx(\"p\",{children:\"Waiting...\"})]});}var getList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(props,setTodoList){var data,newList;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/todo/getlist?email=\".concat(props.email));case 2:data=_context.sent;console.log(data.data);newList=data.data.map(function(todo){var title=todo.title,body=todo.body,dueTime=todo.dueDate,status=todo.status;return{title:title,body:body,dueTime:dueTime,status:status};});setTodoList(newList);case 6:case\"end\":return _context.stop();}}},_callee);}));return function getList(_x,_x2){return _ref.apply(this,arguments);};}();export default App;","map":{"version":3,"names":["useState","useEffect","Form","ListTodo","axios","App","props","todoList","setTodoList","getList","add","todo","updateList","newList","get","email","data","console","log","map","title","body","dueTime","dueDate","status"],"sources":["/home/yuvrajchandrawanshi/react/web-fundamentals/day3/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport './App.css';\nimport Form from './components/Form'\nimport ListTodo from './components/ListTodo'\nimport axios from \"axios\"\n\nfunction App(props) {\n    const [todoList, setTodoList] = useState([]);\n    \n    useEffect(() => {getList(props, setTodoList)}, []);\n\n    const add = (todo) =>{\n        setTodoList([...todoList, todo])\n    }\n    const updateList = (newList) =>{\n        // console.log(newList)\n        setTodoList(newList)\n    }\n    return (\n        <div>\n            <Form add = {add} todoList = {todoList}/>\n            {\n                todoList?\n                <ListTodo todoList = {todoList} updateList = {updateList}/> :\n                <p>Waiting...</p>\n            }\n        </div>\n    )\n}\n\nconst getList = async (props, setTodoList) => {\n    // const res = await fetch(\"http://localhost:8080/todo/getlist?user=John.Doe@gmail.com\");\n    // const data = await res.json();\n    // const newList = data.map((todo) =>{\n    //     const {title: title, body: body, dueDate : dueTime, status: status} = todo\n    //     return {title, body, dueTime, status}\n    // })\n    // setTodoList(newList);\n    const data = await axios.get(`/todo/getlist?email=${props.email}`)\n    console.log(data.data)\n    const newList = data.data.map((todo) =>{\n            const {title: title, body: body, dueDate : dueTime, status: status} = todo\n            return {title, body, dueTime, status}\n    })\n    setTodoList(newList);\n};\n\n\nexport default App;\n"],"mappings":"okBAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,WAAW,CAClB,MAAOC,KAAI,KAAM,mBAAmB,CACpC,MAAOC,SAAQ,KAAM,uBAAuB,CAC5C,MAAOC,MAAK,KAAM,OAAO,yFAEzB,QAASC,IAAG,CAACC,KAAK,CAAE,CAChB,cAAgCN,QAAQ,CAAC,EAAE,CAAC,wCAArCO,QAAQ,eAAEC,WAAW,eAE5BP,SAAS,CAAC,UAAM,CAACQ,OAAO,CAACH,KAAK,CAAEE,WAAW,CAAC,EAAC,CAAE,EAAE,CAAC,CAElD,GAAME,IAAG,CAAG,QAANA,IAAG,CAAIC,IAAI,CAAI,CACjBH,WAAW,8BAAKD,QAAQ,GAAEI,IAAI,GAAE,CACpC,CAAC,CACD,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,OAAO,CAAI,CAC3B;AACAL,WAAW,CAACK,OAAO,CAAC,CACxB,CAAC,CACD,mBACI,oCACI,KAAC,IAAI,EAAC,GAAG,CAAIH,GAAI,CAAC,QAAQ,CAAIH,QAAS,EAAE,CAErCA,QAAQ,cACR,KAAC,QAAQ,EAAC,QAAQ,CAAIA,QAAS,CAAC,UAAU,CAAIK,UAAW,EAAE,cAC3D,iCAAiB,GAEnB,CAEd,CAEA,GAAMH,QAAO,4FAAG,iBAAOH,KAAK,CAAEE,WAAW,2JAQlBJ,MAAK,CAACU,GAAG,+BAAwBR,KAAK,CAACS,KAAK,EAAG,QAA5DC,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAACA,IAAI,CAAC,CAChBH,OAAO,CAAGG,IAAI,CAACA,IAAI,CAACG,GAAG,CAAC,SAACR,IAAI,CAAI,CAC/B,GAAcS,MAAK,CAAmDT,IAAI,CAAnES,KAAK,CAAeC,IAAI,CAAuCV,IAAI,CAArDU,IAAI,CAAkBC,OAAO,CAAoBX,IAAI,CAAzCY,OAAO,CAAoBC,MAAM,CAAIb,IAAI,CAAtBa,MAAM,CAC1D,MAAO,CAACJ,KAAK,CAALA,KAAK,CAAEC,IAAI,CAAJA,IAAI,CAAEC,OAAO,CAAPA,OAAO,CAAEE,MAAM,CAANA,MAAM,CAAC,CAC7C,CAAC,CAAC,CACFhB,WAAW,CAACK,OAAO,CAAC,CAAC,sDACxB,kBAfKJ,QAAO,gDAeZ,CAGD,cAAeJ,IAAG"},"metadata":{},"sourceType":"module"}